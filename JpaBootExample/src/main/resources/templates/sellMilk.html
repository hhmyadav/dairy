<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<base th:replace="fragments/header :: header-css" />

<script>
function updatePriceSell() { 
	
	  var milkQuantity = $("#milkQuantity").val();
	  var price = $("#price").val();
	 
    var totalAmount = price * milkQuantity ;
			
	  $('#totalAmount').val(totalAmount.toFixed(2));

} 
</script>

</head>

<body>
   
      <div th:replace="fragments/header :: header"> </div>
   
 <div class="container">  
      
     <div class="page-header text-center">
        <h2>Selling Milk Entry</h2>
    </div>
   
    <div class="text-center">
		<h2 style="color: #FF0000" th:text="${result}"></h2>
    </div>
  
  <div class="row">
     <form th:action="@{save}" th:object="${entryForm}" method="post">
    
      <div class="col-xs-12">
              
             <div class=col-xs-3> 
              <div class="form-group">
			    <label for="id" class="control-label col-xs-3">Id :</label> 
			    <div class="col-xs-12">
			      <div class="input-group">
			        <div class="input-group-addon">
			          <i class="fa fa-address-book"></i>
			        </div> 
			        <input id="userId" th:field="*{user.userId}" onchange="updateNameEntryFormSell()" type="number" aria-describedby="idHelpBlock" class="form-control"> 
			        <div class="input-group-addon">
			          <i class="fa fa-search"></i>
			        </div>
			      </div> 
			      <span id="idHelpBlock" class="help-block">User Id </span>
			    </div>
			  </div>
              </div>
             <div class=col-xs-5> 
			  <div class="form-group">
			    <label for="name" class="control-label col-xs-3">Name :</label> 
			    <div class="col-xs-12">
			      <div class="input-group">
			        <div class="input-group-addon">
			          <i class="fa fa-address-card"></i>
			        </div> 
			        <input id="name" name="name"  th:field="*{user.name}" disabled="disabled" aria-describedby="nameHelpBlock" class="form-control" type="text">
			        <input type="hidden" id="name"  th:field="*{user.name}" class="form-control input-md" />
			        <div class="input-group-addon">
			          <i class="fa fa-address-card"></i>
			        </div>
			      </div> 
			      <span id="nameHelpBlock" class="help-block">User Name</span>
			    </div>
			  </div>
            </div>
            <div class=col-xs-4> 
			  <div class="form-group">
			    <label for="accountBalance" class="control-label col-xs-3">Balance:</label> 
			    <div class="col-xs-10">
			      <div class="input-group">
			        <div class="input-group-addon">Rs.</div>
			        <input id="accountBalance" th:field="*{user.amountBalance}" name="accountBalance" placeholder="0.00" disabled="disabled" aria-describedby="accountBalanceHelpBlock" class="form-control" type="text">
			        <div class="input-group-addon">/-</div>
			      </div> 
			      <span id="accountBalanceHelpBlock" class="help-block">Total Account Balance in Rupees (INR)</span>
			    </div>
			  </div> 
			  </div>
   </div>
  
 
   <div class="col-xs-12"> 
     <label class="control-label col-xs-3" >.</label> 
   </div>
   
   <div class="col-xs-12"> 
      <label class="control-label col-xs-3" >.</label> 
   </div>
  
   <div class="col-xs-12"> 
      
       <div class=col-xs-5>
              
            <div class="form-group">
             <label for="milkType" class="control-label col-xs-3">Milk :</label> 
		      <div class="col-xs-7">
		       <select th:field="*{milkType}" class="select form-control" aria-describedby="milkTypeHelpBlock">
		        <option value="COW">Cow</option>
		        <option value="BUFFALO">Buffalo</option>
		       </select> 
		      <span id="milkTypeHelpBlock" class="help-block">Please select Cow or Buffalo</span>
		   </div>
            </div> 
              
             <div class="form-group">
			    <label for="milkQuantity"  class="control-label col-xs-3">Liter :</label> 
			    <div class="col-xs-7">
			      <div class="input-group">
			        <div class="input-group-addon">
			          <i class="fa fa-archive"></i>
			        </div> 
			        <input th:field="*{milkQuantity}" oninput="updatePriceSell()" onchange="updatePriceSell()"  placeholder="0.00" aria-describedby="milkQuantityHelpBlock" class="form-control" required="required" type="text"> 
			        <div class="input-group-addon">
			          <i class="fa fa-archive"></i>
			        </div>
			      </div> 
			      <span id="milkQuantityHelpBlock" class="help-block">Please enter quantity of milk Liter</span>
			    </div>
			 </div>
				  <div class="form-group">
			    <label for="price" class="control-label col-xs-3">Price/L :</label> 
			    <div class="col-xs-7">
			      <div class="input-group">
			        <div class="input-group-addon">Rs.</div> 
			        <input id="price" name="price" oninput="updatePriceSell()" onchange="updatePriceSell()" th:field="*{perLiterPrice}" placeholder="0.00" aria-describedby="priceHelpBlock" required="required" class="form-control" type="text"> 
			        <div class="input-group-addon">/-</div>
			      </div> 
			      <span id="priceHelpBlock" class="help-block">Please enter Rs. Per/Liter</span>
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="totalAmount" class="control-label col-xs-3">Total Amount:</label> 
			    <div class="col-xs-7">
			      <div class="input-group">
			        <div class="input-group-addon">
			          <i class="fa fa-money"></i>
			        </div> 
			        <input th:field="*{totalAmount}" placeholder="0.00" class="form-control" aria-describedby="totalAmountHelpBlock" type="text"> 
			        <div class="input-group-addon">
			          <i class="fa fa-money"></i>
			        </div>
			      </div> 
			      <span id="totalAmountHelpBlock" class="help-block">Total amount in Rs. to be paid</span>
			    </div>
			  </div> 
			   <div class="col-xs-12"> 
                 <label class="control-label col-xs-3" >.</label> 
               </div>
              <div class="col-xs-12"> 
                 <label class="control-label col-xs-3">.</label> 
              </div>
  
 
			  <div class="form-group row">
			    <div class="col-xs-offset-3 col-xs-7">
			      <button name="submit" type="submit" class="btn btn-danger btn-block"><strong>Save Sell Entry</strong> </button>
			    </div>
			  </div>
  
  </div>
   
  <div class="col-xs-1"> </div>
  
  <div class=col-xs-5> 
  
  <div class="form-group">
    <label for="entryDateTime" class="control-label col-xs-3">Entry Date :</label> 
    <div class="col-xs-9">
      <div class="input-group">
        <div class="input-group-addon">
          <i class="fa fa-calendar"></i>
        </div> 
        <input th:field="*{entryDateTime}" placeholder="dd/mm/yyyy HH:MM" aria-describedby="entryDateTimeHelpBlock" class="form-control" type="text"> 
        <div class="input-group-addon">
          <i class="fa fa-calendar"></i>
        </div>
      </div> 
      <span id="entryDateTimeHelpBlock" class="help-block">Change date for old entry only</span>
    </div>
  </div>
  
  <div class="form-group">
    <label for="dayType" class="control-label col-xs-3">Day :</label> 
    <div class="col-xs-9">
      <select th:field="*{dayType}" class="select form-control" aria-describedby="dayTypeHelpBlock">
        <option value="MORNING">Morning</option>
        <option value="EVENING">Evening</option>
      </select> 
      <span id="dayTypeHelpBlock" class="help-block">Select day for old entry only</span>
    </div>
  </div>

  <div class="form-group">
    <label for="summary" class="control-label col-xs-3">Summary :</label> 
    <div class="col-xs-9">
      <textarea id="summary" name="summary" cols="40" rows="3" class="form-control" aria-describedby="summaryHelpBlock"></textarea> 
      <span id="summaryHelpBlock" class="help-block">If any summary please write here.</span>
    </div>
  </div> 
  
    </div>
  </div>
  
 </form>
 
</div> 

<div class="table-responsive">
<table class="table">
	<thead>
		 <tr>
			<th>User Id</th>
			<th>User Name</th>
			<th>Date Time</th>
			<th>Day</th>
			<th>Milk</th>
			<th>Quantity</th>
			<th>FAT</th>
			<th>SNF</th>
			<th>Price/L</th>
			<th>Total-Amount</th>
		 </tr>
	</thead>
	<tbody>
		 <tr th:each="entry : ${entryForms}" style="cursor: pointer">
			<td th:text="${entry.user.name}"></td>
			<td th:text="${entry.entryDate}"></td>
			<td th:text="${entry.day}"></td>
			<td th:text="${entry.milkType}"></td>
			<td th:text="${entry.quantity}"></td>
			<td th:text="${entry.fat}"></td>
			<td th:text="${entry.snf}"></td>
			<td th:text="${entry.pricePerLiter}"></td>
			<td th:text="${entry.amount}"></td>
			<td th:text="${entry.userId}"></td>
		</tr>
		
	</tbody>
</table>
</div>



   
</div>  

</body>
</html>